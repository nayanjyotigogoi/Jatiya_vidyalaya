@extends('layouts.app')
@section('content')

    <!-- Hero Section -->
    <section class="index-hero">
        <div class="container index-hero-container">
            <div class="index-hero-content">
                <h1>The Best Place TO Learn And Grow for Students</h1>
                <p>জাতীয় বিদ্যালয়, established in 1982, is a premier institution affiliated with Dibrugarh University,
                    offering Commerce and Arts streams, and recognized under UGC and Assam government provisions.</p>
                <div class="index-hero-buttons">
                    <a href="#" class="btn">Enroll Now</a>
                </div>
            </div>
            <div class="index-hero-images">
                <img src="css/images/Home_1.jpg" alt="Kid Learning" class="index-hero-img-1">
                <img src="css/images/Home_3.jpg" alt="Kid with Books" class="index-hero-img-2">
                <div class="index-student-count">
                    <div class="index-student-avatars">
                        <img src="css/images/child_1.png" alt="Student">
                        <img src="css/images/child_2.png" alt="Student">
                        <img src="css/images/child_3.png" alt="Student">
                    </div>
                    <div class="index-student-count-text">2.5k+ Student</div>
                </div>
            </div>
        </div>

        <!-- <img src="css/images/child_1.png" alt="Decoration" class="decoration decoration-2"> -->

    </section>

    <!-- Features Section -->
    <section class="features">
        <div class="container features-container">
            <div class="feature-box">
                <div class="feature-icon">
                    <i class="fas fa-book"></i>
                </div>
                <h3 class="feature-title">Strong Foundation</h3>
                <p class="feature-text">We are a co-educational Assamese medium school, creating a space where every
                    child gets the chance to learn and grow together.</p>
            </div>
            <div class="feature-box">
                <div class="feature-icon">
                    <i class="fa-solid fa-school"></i>
                </div>
                <h3 class="feature-title">Quality</h3>
                <p class="feature-text">Our school offers quality education up to 8th grade, ensuring a strong academic
                    foundation and overall development for every student.</p>
            </div>
            <div class="feature-box">
                <div class="feature-icon">

                    <i class="fa-solid fa-location-dot"></i>
                </div>
                <h3 class="feature-title">Located </h3>
                <p class="feature-text">Located in Sonari Chapari, Dhakuakhana, North Lakhimpur, Assam - 787055, our
                    school is easily reachable for students from nearby areas.</p>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="about">
        <div class="container about-container">
            <div class="about-images">
                <img src="css/images/Home_5.jpg" alt="Kid Learning" class="about-img-1">
                <img src="css/images/Home_4.jpg" alt="Kid Playing" class="about-img-2">
            </div>
            <div class="about-content">
                <div class="section-subtitle">About Us</div>
                <h2>Providing our students with quality education and guidance at <span>জাতীয় বিদ্যালয়</span>.</h2>
                <p>A premier Assamese medium school in Lakhimpur, committed to providing quality education since 2004.
                    Catering to students up to the 8th grade, we focus on academic excellence, holistic development, and
                    a nurturing learning environment.</p>
                <div class="about-features">
                    <div class="about-feature">
                        <i class="fas fa-check-circle"></i>
                        <span>Quality Education</span>
                    </div>
                    <div class="about-feature">
                        <i class="fas fa-check-circle"></i>
                        <span>Experienced Mentors</span>
                    </div>
                    <div class="about-feature">
                        <i class="fas fa-check-circle"></i>
                        <span>Friendly Environment</span>
                    </div>
                    <div class="about-feature">
                        <i class="fas fa-check-circle"></i>
                        <span>Affordable Learning</span>
                    </div>
                </div>
                <div class="index-contact-info">
                    <div class="contact-item">
                        <i class="fas fa-phone-alt"></i>
                        <span>(+01) 123 456 7890</span>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-envelope"></i>
                        <span>info@jatiyavidyalayas.com</span>
                    </div>
                </div>
                <a href="#" class="btn">Learn More</a>
            </div>
        </div>
        <img src="css/images/decoration.png" alt="Decoration" class="decoration decoration-1">
        <img src="css/images/decoration_2.png" alt="Decoration" class="decoration decoration-2">
    </section>

    <!-- Vision & Mission Section -->
    <section class="vision-mission">
        <div class="container vision-mission-container">

            <div class="vision-box">
                <div class="vision-icon">
                    <i class="fas fa-eye"></i>
                </div>
                <h3 class="vision-title">Our Vision</h3>
                <p class="vision-text">To create a nurturing learning environment where students develop knowledge,
                    values, and skills to become responsible and confident individuals.</p>
            </div>
            <div class="mission-box">
                <div class="mission-icon">
                    <i class="fas fa-bullseye"></i>
                </div>
                <h3 class="mission-title">Our Mission</h3>
                <p class="mission-text">To provide quality education, inspire lifelong learning, and encourage holistic
                    development through innovative teaching and a supportive community.</p>
            </div>
        </div>
    </section>


    <!-- Stats Section -->
    <section class="stats">
        <div class="container stats-container">
            <div class="stat-item">
                <div class="stat-icon">
                    <i class="fas fa-user-tie"></i>
                </div>
                <div class="stat-number">20</div>
                <div class="stat-text">Total Teacher</div>
            </div>
            <div class="stat-item">
                <div class="stat-icon">
                    <i class="fas fa-user-graduate"></i>
                </div>
                <div class="stat-number">450</div>
                <div class="stat-text">Total Student</div>
            </div>
            <div class="stat-item">
                <div class="stat-icon">
                    <i class="fas fa-chalkboard"></i>
                </div>
                <div class="stat-number">10</div>
                <div class="stat-text">Total Classroom</div>
            </div>
            <div class="stat-item">
                <div class="stat-icon">
                    <i class="fa-solid fa-people-group"></i>
                </div>
                <div class="stat-number">15</div>
                <div class="stat-text">Batches</div>
            </div>
        </div>
    </section>

    <!-- Approach Section -->
    <section class="approach">
        <div class="container approach-container">
            <div class="approach-content">
                <div class="section-subtitle">why choose us</div>
                <h2>New Approach To Fun</h2>
                <p>Learning becomes exciting with engaging activities, interactive lessons, and a joyful environment
                    that inspires creativity and curiosity in every student.</p>
                <div class="approach-features">
                    <div class="approach-feature">
                        <i class="fas fa-check-circle"></i>
                        <span>Best Teaching</span>
                    </div>
                    <div class="approach-feature">
                        <i class="fas fa-check-circle"></i>
                        <span>Quality Education</span>
                    </div>
                    <div class="approach-feature">
                        <i class="fas fa-check-circle"></i>
                        <span>Expert Tutors</span>
                    </div>
                    <div class="approach-feature">
                        <i class="fas fa-check-circle"></i>
                        <span>Affordable</span>
                    </div>
                </div>
                <a href="#" class="btn">Learn More</a>
            </div>
            <div>
                <img src="css/images/Home_2.jpg" alt="Kids Learning" class="approach-img">
            </div>
        </div>
        <img src="css/images/decoration_2.png" alt="Decoration" class="decoration decoration-1">
        <img src="css/images/decoration_3.png" alt="Decoration" class="decoration decoration-2">
    </section>

    <!-- Testimonials Section -->
    <section class="testimonials">
        <div class="container testimonials-container">
            <div class="section-subtitle text-center">Testimonials</div>
            <h2 class="section-title text-center">What People Say</h2>

            <!-- Testimonial Slider -->
            <div class="testimonial-slider">

                @forelse($reviews as $review)
                    <div class="testimonial-card {{ $loop->first ? 'active' : '' }}">
                        <div class="testimonial-stars">
                            @for($i = 1; $i <= 5; $i++)
                                <i class="fas fa-star {{ $i <= $review->rating ? '' : 'text-muted' }}"></i>
                            @endfor
                        </div>
                        <p class="testimonial-text">{{ $review->review }}</p>
                        <div class="testimonial-author">
                            <!-- <img src="/placeholder.svg?height=50&width=50" alt="Author"> -->
                            <div class="author-info">
                                <h4>{{ $review->name }}</h4>
                                <p>{{ $review->role == 'Other' ? $review->other_role : $review->role }}</p>
                            </div>
                        </div>
                    </div>
                @empty
                    <p class="text-center">No testimonials yet.</p>
                @endforelse

            </div>

            <!-- Write a Review Button -->
            <div class="text-center review-button-wrapper">
                <a href="{{ route('reviews.create') }}" class="write-review-btn">Write a Review</a>
            </div>

            <!-- Prev & Next Buttons for Testimonials -->
            <button class="testimonial-btn prev" id="testimonialPrev">&#10094;</button>
            <button class="testimonial-btn next" id="testimonialNext">&#10095;</button>
        </div>
    </section>




    <!-- Team Section -->
    <section class="team">
        <div class="container team-container">
            <div class="section-subtitle text-center">Our Team</div>
            <h2 class="section-title text-center">Meet Our Instructors</h2>
            <div class="team-wrapper">
                <div class="team-grid" id="teamGrid">
                    @foreach($teachers as $teacher)
                        <div class="team-card">
                            <div class="team-img-container">
                                <img src="{{ asset('uploads/' . $teacher->photo) }}"
                                    alt="{{ $teacher->first_name }} {{ $teacher->last_name }}" class="team-img"
                                    onerror="this.onerror=null;this.src='{{ asset('images/no-image.webp') }}';">
                                <!-- <div class="team-social">
                                    <i class="fas fa-plus"></i>
                                </div> -->
                            </div>
                            <div class="team-info">
                                <h4>{{ $teacher->first_name }} {{ $teacher->last_name }}</h4>
                                <p>{{ $teacher->subject }}</p>
                            </div>
                        </div>
                    @endforeach
                </div>
            </div>
            <div class="team-nav">
                <div class="team-nav-btn" id="prevBtn">
                    <i class="fas fa-arrow-left"></i>
                </div>
                <div class="team-nav-btn" id="nextBtn">
                    <i class="fas fa-arrow-right"></i>
                </div>
            </div>
        </div>
        <img src="{{ asset('css/images/decoration_2.png') }}" alt="Decoration" class="decoration decoration-1">
    </section>



@endsection
@section('js')
    <script>
        // Mobile Menu Toggle
        const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
        const mobileMenu = document.querySelector('.mobile-menu');
        const mobileMenuClose = document.querySelector('.mobile-menu-close');
        const overlay = document.querySelector('.overlay');

        mobileMenuBtn.addEventListener('click', () => {
            mobileMenu.classList.add('active');
            overlay.classList.add('active');
        });

        mobileMenuClose.addEventListener('click', () => {
            mobileMenu.classList.remove('active');
            overlay.classList.remove('active');
        });

        overlay.addEventListener('click', () => {
            mobileMenu.classList.remove('active');
            overlay.classList.remove('active');
        });

        // Scroll Animation
        window.addEventListener('scroll', () => {
            const header = document.querySelector('header');
            if (window.scrollY > 50) {
                header.style.boxShadow = '0 5px 15px rgba(0, 0, 0, 0.1)';
            } else {
                header.style.boxShadow = 'none';
            }
        });

        document.addEventListener("DOMContentLoaded", function () {
            const teamGrid = document.getElementById("teamGrid");
            const prevBtn = document.getElementById("prevBtn");
            const nextBtn = document.getElementById("nextBtn");

            let currentIndex = 0;
            const cardWidth = document.querySelector(".team-card").offsetWidth + 40; // Card width + gap
            const visibleCards = Math.floor(document.querySelector(".team-wrapper").offsetWidth / cardWidth);
            const totalCards = document.querySelectorAll(".team-card").length;

            function updateNavigation() {
                if (currentIndex <= 0) {
                    prevBtn.style.opacity = "0.5";
                    prevBtn.style.pointerEvents = "none";
                } else {
                    prevBtn.style.opacity = "1";
                    prevBtn.style.pointerEvents = "auto";
                }

                if (currentIndex >= totalCards - visibleCards) {
                    nextBtn.style.opacity = "0.5";
                    nextBtn.style.pointerEvents = "none";
                } else {
                    nextBtn.style.opacity = "1";
                    nextBtn.style.pointerEvents = "auto";
                }
            }

            nextBtn.addEventListener("click", function () {
                if (currentIndex < totalCards - visibleCards) {
                    currentIndex++;
                    teamGrid.style.transform = `translateX(-${currentIndex * cardWidth}px)`;
                }
                updateNavigation();
            });

            prevBtn.addEventListener("click", function () {
                if (currentIndex > 0) {
                    currentIndex--;
                    teamGrid.style.transform = `translateX(-${currentIndex * cardWidth}px)`;
                }
                updateNavigation();
            });

            updateNavigation();
        });

        document.addEventListener("DOMContentLoaded", function () {
            let currentTestimonial = 0;
            const testimonials = document.querySelectorAll('.testimonial-card');
            const totalTestimonials = testimonials.length;
            const prevBtn = document.getElementById("testimonialPrev");
            const nextBtn = document.getElementById("testimonialNext");

            function showTestimonial(index) {
                testimonials.forEach(slide => slide.classList.remove('active'));
                testimonials[index].classList.add('active');
            }

            function changeTestimonialSlide(direction) {
                currentTestimonial = (currentTestimonial + direction + totalTestimonials) % totalTestimonials;
                showTestimonial(currentTestimonial);
            }

            // Add event listeners to buttons
            if (prevBtn && nextBtn) {
                prevBtn.addEventListener("click", function () {
                    changeTestimonialSlide(-1);
                });

                nextBtn.addEventListener("click", function () {
                    changeTestimonialSlide(1);
                });
            }

            // Initial Display
            showTestimonial(currentTestimonial);
        });

    </script>
@endsection